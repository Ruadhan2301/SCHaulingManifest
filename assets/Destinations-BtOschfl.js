import{d as w,u as I,c as g,a,b as t,F as _,r as m,e as S,o as n,t as o,n as D,f as r,P as d,g as v,w as h,h as f,i as x,j as y,_ as z}from"./index-CWF6fOjJ.js";const q={class:"mb-5 md:d-flex mx-auto",style:{"max-width":"50rem"}},B={style:{"min-width":"49%"}},R={id:"main-destination-list",class:"mt-2"},$={class:""},E={class:"d-flex"},N={class:"w-100"},P={class:"d-flex",style:{position:"relative"}},V={class:"circle-count"},j={style:{position:"relative",width:"100%"}},F={style:{position:"relative"}},O={style:{left:"0.25rem",top:"-50%",transform:"translateY(50%)",position:"absolute"}},U={class:"text-right"},Y={style:{width:"auto","text-wrap":"nowrap"}},L={class:"d-flex gap-1 my-3"},T={class:"circle-count-sm-tan"},A={class:"bold"},G={class:"text-sm"},H={style:{"min-width":"49%"}},J={id:"main-destination-list",class:"mt-2"},K={class:"d-inline"},M={class:"d-flex"},Q={class:"w-100"},W={class:"d-flex",style:{position:"relative"}},X={class:"circle-count"},Z={style:{position:"relative",width:"100%"}},tt={style:{position:"relative"}},st={style:{left:"0.25rem",top:"-50%",transform:"translateY(50%)",position:"absolute"}},et={class:"text-right"},it={style:{width:"auto","text-wrap":"nowrap"}},nt={class:"d-flex gap-1 my-3"},ot={class:"circle-count-sm-tan"},lt={class:"bold"},dt={class:"text-sm"},at=w({__name:"Destinations",setup(rt){const{contracts:b}=I(),k=g(()=>{const C=b.reduce((l,i)=>(!i.completed&&i.payloads.forEach(s=>{l[s.destinationID]||(l[s.destinationID]={name:s.destinationID,payloads:[],containerSize:i.containerSize}),l[s.destinationID].payloads.push(s)}),l),{});return Object.values(C).sort((l,i)=>{const s=l.payloads.filter(u=>u.status===d.Collected||u.status===d.Delivered).length;return i.payloads.filter(u=>u.status===d.Collected||u.status===d.Delivered).length-s})}),p=g(()=>b.reduce((e,l)=>(!l.completed&&l.payloads.forEach(i=>{e[i.originID]||(e[i.originID]={name:i.originID,payloads:[],containerSize:l.containerSize}),e[i.originID].payloads.push(i)}),e),{}));return(C,e)=>{const l=S("Button");return n(),a("main",q,[t("div",B,[e[2]||(e[2]=t("h3",{class:"main-destination-heading"},"Origins",-1)),t("div",null,[(n(!0),a(_,null,m(p.value,i=>(n(),a("div",R,[t("h4",$,o(i.name),1),(n(!0),a(_,null,m(i.payloads,s=>(n(),a("div",{id:"destination-instance-payload",class:D([{disabled:s.status!=r(d).Ready}])},[t("div",E,[t("div",N,[t("div",P,[t("div",V,"x"+o(s.quantity),1),t("div",j,[t("div",F,[t("div",O,o(s.commodityID),1)])])])]),t("div",U,[t("div",Y,"Status: "+o(s.status),1),s.status==r(d).Ready?(n(),v(l,{key:0,class:"btn btn-primary ml-auto",onClick:c=>s.status=r(d).Collected},{default:h(()=>e[0]||(e[0]=[f("Collect")])),_:2},1032,["onClick"])):x("",!0),s.status===r(d).Collected?(n(),v(l,{key:1,class:"btn btn-undo ml-auto",onClick:c=>s.status=r(d).Ready},{default:h(()=>e[1]||(e[1]=[f("Uncollect")])),_:2},1032,["onClick"])):x("",!0)])]),t("div",L,[(n(!0),a(_,null,m(r(y)(s.quantity??0,i.containerSize),(c,u)=>(n(),a("div",{key:u,class:"d-flex flex-column align-items-center mx-1",style:{background:"gainsboro",width:"3rem","border-radius":"0.5rem"}},[t("div",T,"x"+o(c.quantity),1),t("div",A,o(c.size)+" scu",1)]))),128))]),t("p",G,o(s.originID)+" -> "+o(s.destinationID),1)],2))),256))]))),256))])]),e[6]||(e[6]=t("div",{class:"d-none md:d-block",style:{height:"100%",width:"2%"}},null,-1)),t("div",H,[e[5]||(e[5]=t("h3",{class:"main-destination-heading"},"Destinations",-1)),t("div",null,[(n(!0),a(_,null,m(k.value,i=>(n(),a("div",J,[t("h3",null,o(i.name),1),(n(!0),a(_,null,m(i.payloads,s=>(n(),a("div",{id:"destination-instance-payload",class:D([{disabled:s.status==r(d).Ready}])},[t("div",K,[t("div",M,[t("div",Q,[t("div",W,[t("div",X,"x"+o(s.quantity),1),t("div",Z,[t("div",tt,[t("div",st,o(s.commodityID),1)])])])])]),t("div",et,[t("div",it,"Status: "+o(s.status),1),s.status===r(d).Collected?(n(),v(l,{key:0,class:"btn btn-primary ml-auto",onClick:c=>s.status=r(d).Delivered},{default:h(()=>e[3]||(e[3]=[f("Deliver")])),_:2},1032,["onClick"])):x("",!0),s.status===r(d).Delivered?(n(),v(l,{key:1,class:"btn btn-undo ml-auto",onClick:c=>s.status=r(d).Collected},{default:h(()=>e[4]||(e[4]=[f("Undeliver")])),_:2},1032,["onClick"])):x("",!0)])]),t("div",nt,[(n(!0),a(_,null,m(r(y)(s.quantity??0,i.containerSize),(c,u)=>(n(),a("div",{key:u,class:"d-flex flex-column align-items-center mx-1",style:{background:"gainsboro",width:"3rem","border-radius":"0.5rem"}},[t("div",ot,"x"+o(c.quantity),1),t("div",lt,o(c.size)+" scu",1)]))),128))]),t("p",dt,o(s.originID)+" -> "+o(s.destinationID),1)],2))),256))]))),256))])])])}}}),ut=z(at,[["__scopeId","data-v-57e91763"]]);export{ut as default};
