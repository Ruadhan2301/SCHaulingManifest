import{d as y,u as w,c as b,a,b as s,F as _,r as v,e as I,o as l,t as r,n as g,f as d,P as o,g as m,w as h,h as C,i as f,_ as B}from"./index-jo8d_dci.js";const S={id:"main-destination-list"},R={class:"d-flex"},$={class:"w-100"},E={class:"d-flex",style:{position:"relative"}},N={class:"circle-count"},V={style:{position:"relative",width:"100%"}},q={style:{position:"relative"}},F={style:{left:"0.25rem",top:"-50%",transform:"translateY(50%)",position:"absolute"}},O={class:"text-right"},P={style:{width:"auto","text-wrap":"nowrap"}},U={id:"main-destination-list"},Y={class:"d-flex"},j={class:"w-100"},z={class:"d-flex",style:{position:"relative"}},L={class:"circle-count"},T={style:{position:"relative",width:"100%"}},A={style:{position:"relative"}},G={style:{left:"0.25rem",top:"-50%",transform:"translateY(50%)",position:"absolute"}},H={class:"text-right"},J={style:{width:"auto","text-wrap":"nowrap"}},K=y({__name:"Destinations",setup(M){const{contracts:D}=w(),k=b(()=>{const p=D.reduce((i,n)=>(!n.completed&&n.payloads.forEach(t=>{i[t.destinationID]||(i[t.destinationID]={name:t.destinationID,payloads:[]}),i[t.destinationID].payloads.push(t)}),i),{});return Object.values(p).sort((i,n)=>{const t=i.payloads.filter(u=>u.status===o.Collected||u.status===o.Delivered).length;return n.payloads.filter(u=>u.status===o.Collected||u.status===o.Delivered).length-t})}),x=b(()=>D.reduce((e,i)=>(!i.completed&&i.payloads.forEach(n=>{e[n.originID]||(e[n.originID]={name:n.originID,payloads:[]}),e[n.originID].payloads.push(n)}),e),{}));return(p,e)=>{const i=I("Button");return l(),a("main",null,[e[4]||(e[4]=s("h3",{class:"main-destination-heading"},"Origins",-1)),s("div",S,[(l(!0),a(_,null,v(x.value,n=>(l(),a("div",null,[s("h4",null,r(n.name),1),(l(!0),a(_,null,v(n.payloads,t=>(l(),a("div",{id:"destination-instance-payload",class:g([{disabled:t.status!=d(o).Ready}])},[s("div",R,[s("div",$,[s("div",E,[s("div",N,"x"+r(t.quantity),1),s("div",V,[s("div",q,[s("div",F,r(t.commodityID),1)])])])]),s("div",O,[s("div",P,"Status: "+r(t.status),1),t.status==d(o).Ready?(l(),m(i,{key:0,class:"btn btn-primary ml-auto",onClick:c=>t.status=d(o).Collected},{default:h(()=>e[0]||(e[0]=[f("Collect")])),_:2},1032,["onClick"])):C("",!0),t.status===d(o).Collected?(l(),m(i,{key:1,class:"btn btn-undo ml-auto",onClick:c=>t.status=d(o).Ready},{default:h(()=>e[1]||(e[1]=[f("Uncollect")])),_:2},1032,["onClick"])):C("",!0)])])],2))),256))]))),256))]),e[5]||(e[5]=s("h3",{class:"main-destination-heading"},"Destinations",-1)),s("div",U,[(l(!0),a(_,null,v(k.value,n=>(l(),a("div",null,[s("h3",null,r(n.name),1),(l(!0),a(_,null,v(n.payloads,t=>(l(),a("div",{id:"destination-instance-payload",class:g([{disabled:t.status==d(o).Ready}])},[s("div",Y,[s("div",j,[s("div",z,[s("div",L,"x"+r(t.quantity),1),s("div",T,[s("div",A,[s("div",G,r(t.commodityID),1)])])])]),s("div",H,[s("div",J,"Status: "+r(t.status),1),t.status===d(o).Collected?(l(),m(i,{key:0,class:"btn btn-primary ml-auto",onClick:c=>t.status=d(o).Delivered},{default:h(()=>e[2]||(e[2]=[f("Deliver")])),_:2},1032,["onClick"])):C("",!0),t.status===d(o).Delivered?(l(),m(i,{key:1,class:"btn btn-undo ml-auto",onClick:c=>t.status=d(o).Collected},{default:h(()=>e[3]||(e[3]=[f("Undeliver")])),_:2},1032,["onClick"])):C("",!0)])])],2))),256))]))),256))])])}}}),W=B(K,[["__scopeId","data-v-e21572c0"]]);export{W as default};
